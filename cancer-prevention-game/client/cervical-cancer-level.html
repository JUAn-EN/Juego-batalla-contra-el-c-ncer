<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nivel 3: Laboratorio de Prevenci贸n Cervical - VitaGuard Heroes</title>
    <link rel="stylesheet" href="css/levels/cervical-cancer-level.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Pantalla de Carga -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="dna-helix">
                <div class="strand strand-1"></div>
                <div class="strand strand-2"></div>
            </div>
            <h2> Cargando Laboratorio de Prevenci贸n...</h2>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
            <p class="loading-text">Preparando equipos m茅dicos...</p>
        </div>
    </div>

    <!-- Header del Nivel -->
    <header class="level-header">
        <div class="header-left">
            <button id="pause-btn" class="header-btn">
                <i class="fas fa-pause"></i>
            </button>
            <div class="level-info">
                <h1> Nivel 3: Laboratorio Cervical</h1>
                <p class="mission-text">Prevenci贸n del C谩ncer Cervicouterino</p>
            </div>
        </div>
        <div class="header-right">
            <div class="stat-card">
                <i class="fas fa-trophy"></i>
                <div class="stat-content">
                    <span class="stat-label">Puntos</span>
                    <span id="current-score" class="stat-value">0</span>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-clock"></i>
                <div class="stat-content">
                    <span class="stat-label">Tiempo</span>
                    <span id="timer" class="stat-value">5:00</span>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-heart"></i>
                <div class="stat-content">
                    <span class="stat-label">Vidas</span>
                    <div id="lives-container" class="lives">
                        <i class="fas fa-heart heart" id="heart1"></i>
                        <i class="fas fa-heart heart" id="heart2"></i>
                        <i class="fas fa-heart heart" id="heart3"></i>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Contenedor Principal del Juego -->
    <main id="game-container" class="game-container">
        
        <!-- FASE 1: Introducci贸n -->
        <section id="intro-phase" class="game-phase active">
            <div class="intro-content">
                <div class="intro-hero">
                    <div class="cervical-illustration">
                        <div class="uterus-icon"></div>
                        <div class="particles"></div>
                    </div>
                    <h2 class="intro-title">Bienvenido al Laboratorio de Prevenci贸n Cervical</h2>
                    <p class="intro-description">
                        El c谩ncer cervicouterino es altamente prevenible. En este laboratorio aprender谩s sobre:
                    </p>
                    <div class="intro-features">
                        <div class="feature-card">
                            <i class="fas fa-syringe"></i>
                            <h3>Vacuna VPH</h3>
                            <p>Protecci贸n temprana</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-microscope"></i>
                            <h3>Papanicolaou</h3>
                            <p>Detecci贸n oportuna</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-shield-alt"></i>
                            <h3>Prevenci贸n</h3>
                            <p>Factores de riesgo</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-calendar-check"></i>
                            <h3>Chequeos</h3>
                            <p>Seguimiento regular</p>
                        </div>
                    </div>
                </div>
                <button id="start-game-btn" class="primary-btn large-btn pulse-btn">
                    <i class="fas fa-play"></i> Iniciar Misi贸n
                </button>
            </div>
        </section>

        <!-- FASE 2: L铆nea de Tiempo VPH -->
        <section id="timeline-phase" class="game-phase">
            <div class="phase-header">
                <h2> L铆nea de Tiempo de Vacunaci贸n VPH</h2>
                <p>Identifica las edades correctas para la vacuna contra el VPH</p>
                <div class="progress-indicator">
                    <span id="timeline-progress">0/5</span>
                </div>
            </div>
            <div class="timeline-container">
                <div class="timeline-track">
                    <div id="age-markers" class="age-markers"></div>
                </div>
                <div id="vaccination-cards" class="vaccination-cards"></div>
                <div class="timeline-info">
                    <div class="info-box">
                        <i class="fas fa-info-circle"></i>
                        <p>Arrastra las tarjetas a la edad correcta en la l铆nea de tiempo</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- FASE 3: Simulador de Papanicolaou -->
        <section id="pap-simulator-phase" class="game-phase">
            <div class="phase-header">
                <h2> Simulador de Prueba de Papanicolaou</h2>
                <p>Identifica c茅lulas normales y anormales en las muestras</p>
                <div class="progress-indicator">
                    <span id="pap-progress">0/8</span>
                </div>
            </div>
            <div class="microscope-container">
                <div class="microscope-view">
                    <div id="cell-sample" class="cell-sample">
                        <canvas id="cell-canvas" width="600" height="400"></canvas>
                    </div>
                    <div class="microscope-controls">
                        <button id="zoom-in" class="control-btn"><i class="fas fa-search-plus"></i></button>
                        <button id="zoom-out" class="control-btn"><i class="fas fa-search-minus"></i></button>
                        <button id="rotate" class="control-btn"><i class="fas fa-sync"></i></button>
                    </div>
                </div>
                <div class="analysis-panel">
                    <h3>An谩lisis de Muestra</h3>
                    <div id="sample-info" class="sample-info"></div>
                    <div class="diagnosis-options">
                        <button class="diagnosis-btn normal" data-diagnosis="normal">
                            <i class="fas fa-check-circle"></i> Normal
                        </button>
                        <button class="diagnosis-btn abnormal" data-diagnosis="abnormal">
                            <i class="fas fa-exclamation-triangle"></i> Anormal
                        </button>
                    </div>
                    <div id="feedback-message" class="feedback-message"></div>
                </div>
            </div>
        </section>

        <!-- FASE 4: Factores de Riesgo -->
        <section id="risk-factors-phase" class="game-phase">
            <div class="phase-header">
                <h2>锔 Identificaci贸n de Factores de Riesgo</h2>
                <p>Elimina los factores de riesgo y mant茅n los h谩bitos saludables</p>
                <div class="progress-indicator">
                    <span id="risk-progress">0/12</span>
                </div>
            </div>
            <div class="risk-game-area">
                <div class="healthy-zone">
                    <h3><i class="fas fa-heart"></i> H谩bitos Saludables</h3>
                    <div id="healthy-items" class="drop-zone"></div>
                </div>
                <div class="items-pool">
                    <h3>Identifica y Clasifica</h3>
                    <div id="risk-items" class="risk-items-grid"></div>
                </div>
                <div class="danger-zone">
                    <h3><i class="fas fa-exclamation-triangle"></i> Factores de Riesgo</h3>
                    <div id="danger-items" class="drop-zone"></div>
                </div>
            </div>
        </section>

        <!-- FASE 5: Mitos vs Realidades -->
        <section id="myths-phase" class="game-phase">
            <div class="phase-header">
                <h2> Mitos vs Realidades</h2>
                <p>Separa los mitos de las realidades sobre el c谩ncer cervical</p>
                <div class="progress-indicator">
                    <span id="myths-progress">0/10</span>
                </div>
            </div>
            <div class="myths-container">
                <div class="myths-column reality-column">
                    <h3><i class="fas fa-check-circle"></i> Realidad</h3>
                    <div id="reality-zone" class="myth-drop-zone"></div>
                </div>
                <div class="statements-pool">
                    <div id="myth-statements" class="myth-cards"></div>
                </div>
                <div class="myths-column myth-column">
                    <h3><i class="fas fa-times-circle"></i> Mito</h3>
                    <div id="myth-zone" class="myth-drop-zone"></div>
                </div>
            </div>
        </section>

        <!-- FASE 6: Calendario de Prevenci贸n -->
        <section id="calendar-phase" class="game-phase">
            <div class="phase-header">
                <h2> Calendario de Prevenci贸n Personalizado</h2>
                <p>Programa correctamente los chequeos preventivos</p>
            </div>
            <div class="calendar-container">
                <div class="patient-profile">
                    <h3>Perfil del Paciente</h3>
                    <div id="patient-info"></div>
                </div>
                <div class="calendar-grid">
                    <div id="prevention-calendar"></div>
                </div>
                <div class="calendar-actions">
                    <button id="verify-calendar" class="primary-btn">
                        <i class="fas fa-check"></i> Verificar Calendario
                    </button>
                </div>
            </div>
        </section>

        <!-- Pantalla de Victoria -->
        <section id="victory-screen" class="game-phase victory-screen">
            <div class="victory-content">
                <div class="trophy-animation">
                    <i class="fas fa-trophy"></i>
                </div>
                <h2 class="victory-title">隆Laboratorio Completado!</h2>
                <div class="final-stats">
                    <div class="stat-box">
                        <i class="fas fa-star"></i>
                        <span class="stat-number" id="final-score">0</span>
                        <span class="stat-label">Puntos Totales</span>
                    </div>
                    <div class="stat-box">
                        <i class="fas fa-clock"></i>
                        <span class="stat-number" id="final-time">0:00</span>
                        <span class="stat-label">Tiempo</span>
                    </div>
                    <div class="stat-box">
                        <i class="fas fa-bullseye"></i>
                        <span class="stat-number" id="final-accuracy">0%</span>
                        <span class="stat-label">Precisi贸n</span>
                    </div>
                </div>
                <div class="achievements" id="achievements-list"></div>
                <div class="knowledge-summary">
                    <h3> Lo que aprendiste:</h3>
                    <ul id="learning-points"></ul>
                </div>
                <div class="victory-actions">
                    <button id="next-level-btn" class="primary-btn">
                        <i class="fas fa-forward"></i> Siguiente Nivel
                    </button>
                    <button id="replay-btn" class="secondary-btn">
                        <i class="fas fa-redo"></i> Repetir Nivel
                    </button>
                    <button id="menu-btn" class="secondary-btn">
                        <i class="fas fa-home"></i> Men煤 Principal
                    </button>
                </div>
            </div>
        </section>

    </main>

    <!-- Modal de Pausa -->
    <div id="pause-modal" class="modal">
        <div class="modal-content">
            <h2><i class="fas fa-pause-circle"></i> Juego Pausado</h2>
            <p>El tiempo se ha detenido</p>
            <div class="modal-actions">
                <button id="resume-btn" class="primary-btn">
                    <i class="fas fa-play"></i> Continuar
                </button>
                <button id="restart-btn" class="secondary-btn">
                    <i class="fas fa-redo"></i> Reiniciar
                </button>
                <button id="exit-btn" class="secondary-btn">
                    <i class="fas fa-sign-out-alt"></i> Salir
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/auth.js"></script>
    <script src="js/levels/cervical-cancer-data.js"></script>
    <script src="js/levels/cervical-cancer-game.js"></script>
</body>
</html>
